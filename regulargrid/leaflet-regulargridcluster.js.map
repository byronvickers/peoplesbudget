{"version":3,"sources":["leaflet-regulargridcluster.src.js"],"names":[],"mappings":"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","file":"leaflet-regulargridcluster.js","sourcesContent":["'use strict';\n\n/*jshint esversion: 6 */\n\nL.RegularGridClusterCell = L.Polygon.extend({\n  options: {\n    weight: 1,\n    fillOpacity: 0.6,\n    clickable: false,\n    color: 'grey',\n    lineJoin: 'miter',\n    fillRule: 'evenodd',\n    strokeLocation: 'inside',\n    pane: 'grid-cells-pane',\n    interactive: false\n  },\n\n  initialize: function initialize(path, options) {\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, this.options);\n\n    L.Polygon.prototype.initialize.call(this, path, this.options);\n  }\n});\n\nL.regularGridClusterCell = function (path, options) {\n  return new L.RegularGridClusterCell(path, options);\n};\n\"use strict\";\n\n/*jshint esversion: 6 */\n\nL.RegularGridClusterCellsGroup = L.FeatureGroup.extend({\n  options: {\n    interactive: false\n  },\n  initialize: function initialize(options) {\n    this.controller = options.controller;\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, options);\n\n    L.FeatureGroup.prototype.initialize.call(this, {\n      features: []\n    }, this.options);\n  },\n  render: function render(cellSize, origin) {},\n  addLayer: function addLayer(cell) {\n    L.FeatureGroup.prototype.addLayer.call(this, cell);\n  },\n  truncate: function truncate() {\n    this.clearLayers();\n  }\n});\n\nL.regularGridClusterCellsGroup = function (options) {\n  return new L.RegularGridClusterCellsGroup(options);\n};\n'use strict';\n\nL.RegularGridClusterMarker = L.CircleMarker.extend({\n  options: {\n    pane: 'grid-markers-pane',\n    interactive: false\n  },\n  initialize: function initialize(centroid, options) {\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, options);\n\n    L.CircleMarker.prototype.initialize.call(this, centroid, this.options);\n  }\n});\n\nL.regularGridClusterMarker = function (centroid, options) {\n  return new L.RegularGridClusterMarker(centroid, options);\n};\n\"use strict\";\n\nL.RegularGridClusterMarkersGroup = L.FeatureGroup.extend({\n  options: {},\n  initialize: function initialize(options) {\n    this.controller = options.controller;\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, options);\n\n    L.FeatureGroup.prototype.initialize.call(this, {\n      features: []\n    }, options);\n  },\n\n  render: function render(cellSize, origin) {},\n\n  addLayer: function addLayer(marker) {\n    L.FeatureGroup.prototype.addLayer.call(this, marker);\n  },\n\n  truncate: function truncate() {\n    this.clearLayers();\n  }\n});\n\nL.regularGridClusterMarkersGroup = function (options) {\n  return new L.RegularGridClusterMarkersGroup(options);\n};\n'use strict';\n\n/*jshint esversion: 6 */\n\nL.RegularGridClusterText = L.Marker.extend({\n  options: {\n    pane: 'grid-texts-pane',\n    interactive: false\n  },\n\n  initialize: function initialize(centroid, options) {\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, options);\n\n    var iconOptions = JSON.stringify(options).substring(1, JSON.stringify(options).length - 2).replace(/,/g, ';').replace(/\\\"/g, \"\");\n\n    this.options.icon = L.divIcon({\n      html: '<span class=\"regular-grid-text-html\" style=\"' + iconOptions + ' ; text-align: center\">' + this.options.text + '</span>',\n      iconSize: [0, 0],\n      iconAnchor: [options.anchorOffsetX || -10, options.anchorOffsetY || -30],\n      className: 'regular-grid-text-marker'\n    });\n\n    L.Marker.prototype.initialize.call(this, centroid, this.options);\n  }\n});\n\nL.regularGridClusterText = function (centroid, options) {\n  return new L.RegularGridClusterText(centroid, options);\n};\n\"use strict\";\n\n/*jshint esversion: 6 */\n\nL.RegularGridClusterTextsGroup = L.FeatureGroup.extend({\n  options: {},\n  initialize: function initialize(options) {\n    this.controller = options.controller;\n    this.options = L.extend(this.options, options);\n    L.Util.setOptions(this, options);\n\n    L.FeatureGroup.prototype.initialize.call(this, {\n      features: []\n    }, options);\n  },\n  render: function render(cellSize, origin) {},\n  addLayer: function addLayer(marker) {\n    L.FeatureGroup.prototype.addLayer.call(this, marker);\n  },\n  truncate: function truncate() {\n    this.clearLayers();\n  }\n});\n\nL.regularGridClusterTextsGroup = function (options) {\n  return new L.RegularGridClusterTextsGroup(options);\n};\n'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/*jshint esversion: 6 */\n// main class, controller, ...\n\nL.RegularGridCluster = L.FeatureGroup.extend({\n  options: {\n    gridBoundsPadding: 0.1,\n    gridMode: 'square',\n    cellSize: 10000, // size of the cell at a scale of 10\n\n    showGrid: true,\n    showMarkers: true,\n    showTexts: true,\n\n    paneElementsZ: 1000,\n    paneCellsZ: 700,\n    paneMarkersZ: 800,\n    paneTextsZ: 900,\n\n    zoomShowElements: 10,\n    zoomHideGrid: 10,\n\n    indexSize: 12,\n\n    rules: {},\n    trackingTime: true // for developement purposes \n  },\n\n  initialize: function initialize(options) {\n    this.options = L.extend(this.options, options);\n    this.lastelmid = 0;\n    this.elementDisplayed = false;\n    L.Util.setOptions(this, options);\n\n    this._actions = [];\n    this._elements = {};\n    this._displayedElements = L.featureGroup([]);\n    this._cells = [];\n\n    this._grid = new L.regularGridClusterCellsGroup({ controller: this });\n    this._markers = new L.regularGridClusterMarkersGroup({ controller: this });\n    this._texts = new L.regularGridClusterTextsGroup({ controller: this });\n\n    L.FeatureGroup.prototype.initialize.call(this, {\n      features: []\n    }, options);\n  },\n  onAdd: function onAdd(map) {\n    var _this = this;\n\n    this._map = map;\n    this._addPane('grid-elements-pane', this.options.paneElementsZ);\n    this._addPane('grid-markers-pane', this.options.paneMarkersZ);\n    this._addPane('grid-cells-pane', this.options.paneCellsZ);\n    this._addPane('grid-texts-pane', this.options.paneTextsZ);\n    //L.GeoJSON.prototype.onAdd.call(this, map);\n\n    this._grid.addTo(this._map);\n    this._markers.addTo(this._map);\n    this._texts.addTo(this._map);\n\n    this._addAction(function () {\n      _this.refresh();\n    }, 'zoomend');\n    this._index();\n    this.refresh();\n  },\n  _addPane: function _addPane(paneName, zIndex) {\n    this._map.createPane(paneName);\n    this._map.getPane(paneName).style.zIndex = zIndex;\n  },\n  _addAction: function _addAction(callback, type) {\n    this._actions.push({ callback: callback, type: type });\n    this._map.on(type, callback);\n  },\n  _unregisterActions: function _unregisterActions() {\n    var _this2 = this;\n\n    this._actions.map(function (action) {\n      _this2._map.off(action.type, action.callback);\n    });\n  },\n  addLayer: function addLayer(layer) {\n    this.addLayers([layer]);\n  },\n  addLayers: function addLayers(layersArray) {\n    var _this3 = this;\n\n    layersArray.map(function (layer) {\n      return _this3._addElement(layer);\n    });\n    if (this._map) {\n      this._index();\n      this.refresh();\n    }\n  },\n  unregister: function unregister() {\n    this._unregisterActions();\n    this._truncateLayers();\n    // this._map.removeLayer(this._grid);\n    // this._map.removeLayer(this._markers);\n    // this._map.removeLayer(this._texts);\n    // this._map.removeLayer(this._displayedElements);    \n  },\n  _addElement: function _addElement(element) {\n    // todo - filter non point and group data\n    this._elements[this.lastelmid] = {\n      \"id\": this.lastelmid,\n      \"latlng\": element.marker.getLatLng(),\n      \"properties\": element.properties,\n      \"marker\": element.marker\n    };\n\n    this.lastelmid++;\n    //L.GeoJSON.prototype.addData.call(this, element);\n  },\n  _index: function _index() {\n    var times = [];\n    times.push(new Date());\n    this._indexCells();\n    times.push(new Date());\n    this._indexElements();\n    times.push(new Date());\n\n    if (this.options.trackingTime) {\n      console.log('//////////////////////////////////');\n      console.log('cells indexed in    ' + (times[1].valueOf() - times[0].valueOf()) + 'ms');\n      console.log('elements indexed in ' + (times[2].valueOf() - times[1].valueOf()) + 'ms');\n      console.log('indexing took       ' + (times[2].valueOf() - times[0].valueOf()) + 'ms');\n      console.log('//////////////////////////////////');\n    }\n  },\n  _getElementsCollection: function _getElementsCollection() {\n    var _this4 = this;\n\n    return Object.keys(this._elements).map(function (key) {\n      return {\n        id: _this4._elements[key].id,\n        g: _this4._elements[key].latlng,\n        i: _this4._elements[key].index\n      };\n    });\n  },\n  _getElementMarkers: function _getElementMarkers() {\n    var _this5 = this;\n\n    return Object.keys(this._elements).map(function (key) {\n      return _this5._elements[key].marker;\n    });\n  },\n  _displayElements: function _displayElements() {\n    var _this6 = this;\n\n    if (!this.elementDisplayed) {\n      this._displayedElements.clearLayers();\n      this.elementDisplayed = true;\n\n      this._getElementMarkers().map(function (marker) {\n        marker.setStyle({ pane: 'grid-elements-pane' });\n        _this6._displayedElements.addLayer(marker);\n      });\n\n      this._displayedElements.addTo(this._map);\n    }\n  },\n  _hideElements: function _hideElements() {\n    if (this.elementDisplayed) {\n      this.elementDisplayed = false;\n      this._displayedElements.clearLayers();\n    }\n  },\n  refresh: function refresh() {\n    this._renderComponents();\n    this._renderElements();\n  },\n  _renderElements: function _renderElements() {\n    if (this._map.getZoom() >= this.options.zoomShowElements) {\n      console.log('elements will be displayed');\n      this._displayElements();\n    } else {\n      this._hideElements();\n    }\n  },\n  _renderComponents: function _renderComponents() {\n    if (this._map.getZoom() < this.options.zoomHideGrid) {\n      console.log('grid components will be displayed');\n      this._truncateLayers();\n\n      var times = [];\n      times.push(new Date());\n\n      this._prepareCells();\n      times.push(new Date());\n\n      this._findElements();\n      times.push(new Date());\n\n      this._buildCells();\n      times.push(new Date());\n\n      this._buildMarkers();\n      times.push(new Date());\n\n      this._buildTexts();\n      times.push(new Date());\n\n      if (this.options.trackingTime) {\n        console.log('********************');\n        console.log('cells prepared in ' + (times[1].valueOf() - times[0].valueOf()) + 'ms');\n        console.log('elements found in ' + (times[2].valueOf() - times[1].valueOf()) + 'ms');\n        console.log('grid built in     ' + (times[3].valueOf() - times[2].valueOf()) + 'ms');\n        console.log('markers built in  ' + (times[4].valueOf() - times[3].valueOf()) + 'ms');\n        console.log('texts built in    ' + (times[5].valueOf() - times[4].valueOf()) + 'ms');\n        console.log(this._cells.length + ' cells refreshed in ' + (times[5].valueOf() - times[0].valueOf()) + 'ms');\n        console.log('********************');\n      }\n    } else {\n      console.log('grid will be hidden');\n      this._truncateLayers();\n    }\n  },\n  _truncateLayers: function _truncateLayers() {\n    this._grid.truncate();\n    this._markers.truncate();\n    this._texts.truncate();\n  },\n  _buildCells: function _buildCells() {\n    if (this.options.rules.grid && this.options.showGrid) {\n      this._visualise('grid');\n\n      this._cells.forEach(function (cell) {\n        if (this._cellIsNotEmpty(cell)) {\n          var regularCell = new L.regularGridClusterCell(cell.path, cell.options.grid);\n          this._grid.addLayer(regularCell);\n        }\n      }.bind(this));\n\n      this._grid.addTo(this._map);\n    }\n  },\n  _buildMarkers: function _buildMarkers() {\n    var _this7 = this;\n\n    if (this.options.rules.markers && this.options.showMarkers) {\n      this._visualise('markers');\n\n      this._cells.map(function (cell) {\n        if (_this7._cellIsNotEmpty(cell)) {\n          var cellCentroid = [cell.y + cell.h / 2, cell.x + cell.w / 2];\n          var marker = new L.regularGridClusterMarker(cellCentroid, cell.options.markers);\n          _this7._markers.addLayer(marker);\n        }\n      });\n\n      this._markers.addTo(this._map);\n    }\n  },\n  _buildTexts: function _buildTexts() {\n    var _this8 = this;\n\n    if (this.options.rules.texts && this.options.showTexts) {\n      this._visualise('texts');\n\n      this._cells.map(function (cell) {\n        if (_this8._cellIsNotEmpty(cell)) {\n          var cellCentroid = [cell.y + cell.h / 2, cell.x + cell.w / 2];\n          var text = new L.regularGridClusterText(cellCentroid, cell.options.texts);\n          _this8._texts.addLayer(text);\n        }\n      });\n\n      this._texts.addTo(this._map);\n    }\n  },\n  _indexCells: function _indexCells() {\n    var origin = this._gridOrigin();\n    var gridEnd = this._gridExtent().getNorthEast();\n    var maxX = gridEnd.lng,\n        maxY = gridEnd.lat;\n    var x = origin.lng,\n        y = origin.lat;\n\n    var indexPortion = this.options.indexSize;\n    var diffX = (maxX - x) / indexPortion,\n        diffY = (maxY - y) / indexPortion;\n\n    this._indexedCells = {};\n    var cellId = 0;\n\n    for (var xi = x; xi < maxX; xi += diffX) {\n      for (var yi = y; yi < maxY; yi += diffY) {\n        var bounds = L.latLngBounds([yi, xi], [yi + diffY, xi + diffX]);\n        this._indexedCells[cellId] = {\n          b: bounds,\n          cs: []\n        };\n        cellId = cellId + 1;\n      }\n    }\n  },\n  _indexElements: function _indexElements() {\n    var _this9 = this;\n\n    this._getElementsCollection().map(function (element) {\n      for (var ici in _this9._indexedCells) {\n        if (_this9._indexedCells[ici].b.contains(element.g)) {\n          _this9._elements[element.id].index = ici;\n          break;\n        }\n      }\n    });\n  },\n  _indexedCellsCollection: function _indexedCellsCollection() {\n    var _this10 = this;\n\n    return Object.keys(this._indexedCells).map(function (key) {\n      return _this10._indexedCells[key];\n    });\n  },\n  _truncateIndexedCells: function _truncateIndexedCells() {\n    this._indexedCellsCollection().map(function (indexedCell) {\n      indexedCell.cs = [];\n    });\n  },\n  _prepareCells: function _prepareCells() {\n    this._cells = [];\n    this._truncateIndexedCells();\n\n    var cellId = 1;\n\n    var cellSize = this._cellSize();\n    var origin = this._gridOrigin();\n    var gridEnd = this._gridExtent().getNorthEast();\n    var maxX = gridEnd.lng,\n        maxY = gridEnd.lat;\n\n    var x = origin.lng,\n        y = origin.lat;\n    var row = 1;\n\n    var cellW = cellSize / 111319;\n    var indexedCellsCollection = this._indexedCellsCollection();\n\n    var indexCellsInCollection = function indexCellsInCollection(cell, cellBounds) {\n      indexedCellsCollection.map(function (indexedCell) {\n        if (indexedCell.b.overlaps(cellBounds)) {\n          indexedCell.cs.push(cell);\n        }\n      });\n    };\n\n    while (y < maxY) {\n      var cellH = this._cellHeightAtY(y, cellSize);\n\n      if (this.options.gridMode == 'hexagon') {\n        if (row % 2) {\n          x -= cellW / 2;\n        }\n      }\n\n      while (x < maxX) {\n        var cell = {\n          id: cellId,\n          x: x,\n          y: y,\n          h: cellH,\n          w: cellW,\n\n          options: {\n            grid: {},\n            markers: {},\n            texts: {}\n          },\n\n          elms: []\n        };\n\n        var cellBounds = L.latLngBounds([y, x], [y + cellH, x + cellW]);\n\n        cell.path = this._buildPathOperations[this.options.gridMode].call(this, cell);\n        this._cells.push(cell);\n\n        indexCellsInCollection(cell, cellBounds);\n        cellId++;\n\n        x += cellW;\n      }\n\n      x = origin.lng;\n      //y += cellH;\n      if (this.options.gridMode == 'hexagon') {\n        y += 3 / 4 * cellH;\n      } else {\n        y += cellH;\n      }\n      row += 1;\n    }\n  },\n  _findElements: function _findElements() {\n    var _this11 = this;\n\n    this._getElementsCollection().map(function (element) {\n      var ei = element.id;\n      var ex = element.g.lng,\n          ey = element.g.lat;\n\n      _this11._indexedCells[element.i].cs.map(function (cell) {\n        if (_this11._elmInsideOperations[_this11.options.gridMode].call(_this11, ex, ey, cell)) {\n          cell.elms.push(ei);\n        }\n      });\n    });\n  },\n  _cellIsNotEmpty: function _cellIsNotEmpty(cell) {\n    return cell.elms.length !== 0;\n  },\n  _visualise: function _visualise(featureType) {\n    var _this12 = this;\n\n    if (this.options.rules[featureType]) {\n\n      Object.keys(this.options.rules[featureType]).map(function (option) {\n        var rule = _this12.options.rules[featureType][option];\n\n        if (option == 'text') {\n          _this12._cellsValues(rule.method, rule.attribute);\n          _this12._cells.map(function (cell) {\n            if (_this12._cellIsNotEmpty(cell)) {\n              cell.options.texts.text = cell.value;\n            }\n          });\n        } else if (_this12._isDynamicalRule(rule)) {\n          _this12._cellsValues(rule.method, rule.attribute);\n          _this12._applyOptions(featureType, rule.scale, rule.style, option);\n        } else {\n          _this12._cells.map(function (cell) {\n            if (_this12._cellIsNotEmpty(cell)) {\n              cell.options[featureType][option] = rule;\n            }\n          });\n        }\n      });\n    }\n  },\n  _applyOptions: function _applyOptions(featureType, scale, style, option) {\n    var _this13 = this;\n\n    if (style.length == 1) {\n      this._cells.map(function (cell) {\n        cell.options[featureType][option] = style[0];\n      });\n    } else if (style.length > 1) {\n\n      var values = this._cellValues(true).sort(function (a, b) {\n        return a - b;\n      });\n      var noInts = style.length;\n\n      if (scale === 'continuous') {\n        noInts = noInts - 1;\n      }\n      var max = Math.max.apply(Math, _toConsumableArray(values));\n      var min = Math.min.apply(Math, _toConsumableArray(values));\n\n      var thresholds = [];\n\n      if (scale != 'size') {\n        var qLen = Math.floor(values.length / noInts);\n\n        for (var i = 1; i != noInts; i++) {\n          thresholds.push(values[qLen * i]);\n        }\n      }\n\n      if (this._scaleOperations[scale]) {\n        this._cells.map(function (cell) {\n          if (_this13._isDefined(cell.value)) {\n            cell.options[featureType][option] = _this13._scaleOperations[scale](_this13, cell.value, min, max, noInts, thresholds, style);\n          }\n        });\n      }\n    }\n  },\n  _cellsValues: function _cellsValues(method, attr) {\n    var _this14 = this;\n\n    this._cells.map(function (cell) {\n      if (_this14._cellIsNotEmpty(cell)) {\n        var cellValues = void 0;\n\n        if (method !== 'count') {\n          cellValues = _this14._cellAttrValues(cell, attr);\n        }\n        cell.value = _this14._methodOperations[method](_this14, cell, cellValues);\n      }\n    });\n  },\n  _cellValues: function _cellValues(onlyDefined) {\n    if (onlyDefined) {\n      return this._cells.filter(function (cell) {\n        return typeof cell.value !== 'undefined' && !isNaN(cell.value);\n      }).map(function (cell) {\n        return cell.value;\n      });\n    } else {\n      return this._cells.map(function (cell) {\n        return cell.value;\n      });\n    }\n  },\n  _cellAttrValues: function _cellAttrValues(cell, attr) {\n    var _this15 = this;\n\n    return cell.elms.map(function (elm) {\n      return _this15._elements[elm].properties[attr];\n    });\n  },\n  _isDynamicalRule: function _isDynamicalRule(rule) {\n    return rule.method && rule.scale && rule.style;\n  },\n\n\n  // return size of the cell in meters\n  _cellSize: function _cellSize() {\n    return this.options.cellSize * Math.pow(2, 10 - this._mapZoom());\n  },\n  _gridOrigin: function _gridOrigin() {\n    return this._gridExtent().getSouthWest();\n  },\n  _gridExtent: function _gridExtent() {\n    return this._getBounds().pad(this.options.gridBoundsPadding);\n  },\n  _getBounds: function _getBounds() {\n    return L.latLngBounds(this._getGeometries());\n  },\n  _getGeometries: function _getGeometries() {\n    return this._getElementsCollection().map(function (element) {\n      return element.g;\n    });\n  },\n  _mapZoom: function _mapZoom() {\n    if (this._map) {\n      return this._map.getZoom();\n    } else {\n      return false;\n    }\n  },\n\n\n  // BASE FUNCTIONS\n  // longitude delta for given latitude\n  _cellHeightAtY: function _cellHeightAtY(y, cellSize) {\n    return cellSize / 111319;\n    // return (cellSize/111319) * this._deltaHeightAtY(y);\n  },\n\n\n  // multiplier for y size at given latitude\n  _deltaHeightAtY: function _deltaHeightAtY(lat) {\n    return Math.abs(1 / Math.cos(lat * Math.PI / 180));\n  },\n  _isDefined: function _isDefined(value) {\n    return !(!value && value !== 0);\n  },\n  _isNumber: function _isNumber(value) {\n    return !isNaN(parseFloat(value)) && isFinite(value);\n  }\n});\n\nL.regularGridCluster = function (options) {\n  return new L.RegularGridCluster(options);\n};\n\"use strict\";\n\n/*jshint esversion: 6 */\n// COLORS FUNCTIONS\n\nL.RegularGridCluster.include({\n  // COLORS\n  colors: { \"aliceblue\": \"#f0f8ff\", \"antiquewhite\": \"#faebd7\", \"aqua\": \"#00ffff\", \"aquamarine\": \"#7fffd4\", \"azure\": \"#f0ffff\", \"beige\": \"#f5f5dc\", \"bisque\": \"#ffe4c4\", \"black\": \"#000000\", \"blanchedalmond\": \"#ffebcd\", \"blue\": \"#0000ff\", \"blueviolet\": \"#8a2be2\", \"brown\": \"#a52a2a\", \"burlywood\": \"#deb887\",\n    \"cadetblue\": \"#5f9ea0\", \"chartreuse\": \"#7fff00\", \"chocolate\": \"#d2691e\", \"coral\": \"#ff7f50\", \"cornflowerblue\": \"#6495ed\", \"cornsilk\": \"#fff8dc\", \"crimson\": \"#dc143c\", \"cyan\": \"#00ffff\", \"darkblue\": \"#00008b\", \"darkcyan\": \"#008b8b\", \"darkgoldenrod\": \"#b8860b\", \"darkgray\": \"#a9a9a9\", \"darkgreen\": \"#006400\", \"darkkhaki\": \"#bdb76b\", \"darkmagenta\": \"#8b008b\", \"darkolivegreen\": \"#556b2f\",\n    \"darkorange\": \"#ff8c00\", \"darkorchid\": \"#9932cc\", \"darkred\": \"#8b0000\", \"darksalmon\": \"#e9967a\", \"darkseagreen\": \"#8fbc8f\", \"darkslateblue\": \"#483d8b\", \"darkslategray\": \"#2f4f4f\", \"darkturquoise\": \"#00ced1\",\n    \"darkviolet\": \"#9400d3\", \"deeppink\": \"#ff1493\", \"deepskyblue\": \"#00bfff\", \"dimgray\": \"#696969\", \"dodgerblue\": \"#1e90ff\", \"firebrick\": \"#b22222\", \"floralwhite\": \"#fffaf0\", \"forestgreen\": \"#228b22\", \"fuchsia\": \"#ff00ff\", \"gainsboro\": \"#dcdcdc\", \"ghostwhite\": \"#f8f8ff\", \"gold\": \"#ffd700\", \"goldenrod\": \"#daa520\", \"gray\": \"#808080\", \"green\": \"#008000\", \"greenyellow\": \"#adff2f\", \"honeydew\": \"#f0fff0\", \"hotpink\": \"#ff69b4\", \"indianred \": \"#cd5c5c\", \"indigo\": \"#4b0082\", \"ivory\": \"#fffff0\", \"khaki\": \"#f0e68c\", \"lavender\": \"#e6e6fa\", \"lavenderblush\": \"#fff0f5\", \"lawngreen\": \"#7cfc00\", \"lemonchiffon\": \"#fffacd\", \"lightblue\": \"#add8e6\", \"lightcoral\": \"#f08080\", \"lightcyan\": \"#e0ffff\", \"lightgoldenrodyellow\": \"#fafad2\",\n    \"lightgrey\": \"#d3d3d3\", \"lightgreen\": \"#90ee90\", \"lightpink\": \"#ffb6c1\", \"lightsalmon\": \"#ffa07a\", \"lightseagreen\": \"#20b2aa\", \"lightskyblue\": \"#87cefa\", \"lightslategray\": \"#778899\", \"lightsteelblue\": \"#b0c4de\",\n    \"lightyellow\": \"#ffffe0\", \"lime\": \"#00ff00\", \"limegreen\": \"#32cd32\", \"linen\": \"#faf0e6\", \"magenta\": \"#ff00ff\", \"maroon\": \"#800000\", \"mediumaquamarine\": \"#66cdaa\", \"mediumblue\": \"#0000cd\", \"mediumorchid\": \"#ba55d3\", \"mediumpurple\": \"#9370d8\", \"mediumseagreen\": \"#3cb371\", \"mediumslateblue\": \"#7b68ee\",\n    \"mediumspringgreen\": \"#00fa9a\", \"mediumturquoise\": \"#48d1cc\", \"mediumvioletred\": \"#c71585\", \"midnightblue\": \"#191970\", \"mintcream\": \"#f5fffa\", \"mistyrose\": \"#ffe4e1\", \"moccasin\": \"#ffe4b5\", \"navajowhite\": \"#ffdead\", \"navy\": \"#000080\", \"oldlace\": \"#fdf5e6\", \"olive\": \"#808000\", \"olivedrab\": \"#6b8e23\", \"orange\": \"#ffa500\", \"orangered\": \"#ff4500\", \"orchid\": \"#da70d6\",\n    \"palegoldenrod\": \"#eee8aa\", \"palegreen\": \"#98fb98\", \"paleturquoise\": \"#afeeee\", \"palevioletred\": \"#d87093\", \"papayawhip\": \"#ffefd5\", \"peachpuff\": \"#ffdab9\", \"peru\": \"#cd853f\", \"pink\": \"#ffc0cb\", \"plum\": \"#dda0dd\", \"powderblue\": \"#b0e0e6\", \"purple\": \"#800080\",\n    \"red\": \"#ff0000\", \"rosybrown\": \"#bc8f8f\", \"royalblue\": \"#4169e1\", \"saddlebrown\": \"#8b4513\", \"salmon\": \"#fa8072\", \"sandybrown\": \"#f4a460\", \"seagreen\": \"#2e8b57\", \"seashell\": \"#fff5ee\", \"sienna\": \"#a0522d\", \"silver\": \"#c0c0c0\", \"skyblue\": \"#87ceeb\", \"slateblue\": \"#6a5acd\", \"slategray\": \"#708090\", \"snow\": \"#fffafa\", \"springgreen\": \"#00ff7f\", \"steelblue\": \"#4682b4\",\n    \"tan\": \"#d2b48c\", \"teal\": \"#008080\", \"thistle\": \"#d8bfd8\", \"tomato\": \"#ff6347\", \"turquoise\": \"#40e0d0\", \"violet\": \"#ee82ee\", \"wheat\": \"#f5deb3\", \"white\": \"#ffffff\", \"whitesmoke\": \"#f5f5f5\",\n    \"yellow\": \"#ffff00\", \"yellowgreen\": \"#9acd32\" },\n\n  _colorNameToHex: function _colorNameToHex(color) {\n    if (typeof this.colors[color.toLowerCase()] != 'undefined') {\n      return this.colors[color.toLowerCase()].substring(1);\n    } else {\n      return false;\n    }\n  },\n  _hex: function _hex(x) {\n    x = x.toString(16);\n    return x.length == 1 ? '0' + x : x;\n  },\n  _validateColor: function _validateColor(color) {\n    if (color.indexOf('#') == -1) {\n      return this._colorNameToHex(color);\n    } else {\n      return color.substring(1);\n    }\n  },\n  _colorMix: function _colorMix(color1, color2, ratio) {\n    color1 = this._validateColor(color1);\n    color2 = this._validateColor(color2);\n\n    var r = Math.floor(parseInt(color1.substring(0, 2), 16) * ratio + parseInt(color2.substring(0, 2), 16) * (1 - ratio));\n    var g = Math.floor(parseInt(color1.substring(2, 4), 16) * ratio + parseInt(color2.substring(2, 4), 16) * (1 - ratio));\n    var b = Math.floor(parseInt(color1.substring(4, 6), 16) * ratio + parseInt(color2.substring(4, 6), 16) * (1 - ratio));\n\n    return '#' + this._hex(r) + this._hex(g) + this._hex(b);\n  }\n});\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/*jshint esversion: 6 */\n// MATH FUNCTIONS\n\nL.RegularGridCluster.include({\n  _math_max: function _math_max(arr) {\n    return Math.max.apply(Math, _toConsumableArray(arr));\n  },\n  _math_min: function _math_min(arr) {\n    return Math.min.apply(Math, _toConsumableArray(arr));\n  },\n  _math_mode: function _math_mode(arr) {\n    if (arr.length === 0) {\n      return null;\n    }\n    var modeMap = {};\n    var maxEl = arr[0],\n        maxCount = 1;\n\n    for (var i = 0; i < arr.length; i++) {\n      var el = arr[i];\n      if (el) {\n        if (modeMap[el] === null) {\n          modeMap[el] = 1;\n        } else {\n          modeMap[el]++;\n        }\n        if (modeMap[el] > maxCount) {\n          maxEl = el;\n          maxCount = modeMap[el];\n        }\n        // extendable to solve ties\n      }\n    }\n    return maxEl;\n  },\n  _math_mean: function _math_mean(arr) {\n    return arr.reduce(function (a, b) {\n      return a + b;\n    }, 0) / arr.length;\n  },\n  _math_sum: function _math_sum(arr) {\n    return arr.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  },\n  _math_median: function _math_median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var half = Math.floor(arr.length / 2);\n\n    if (arr.length % 2) {\n      return arr[half];\n    } else {\n      return (arr[half - 1] + arr[half]) / 2.0;\n    }\n  }\n});\n\"use strict\";\n\n/*jshint esversion: 6 */\n\nL.RegularGridCluster.include({\n  _scaleOperations: {\n    size: function size(cluster, value, min, max, noInts, thresholds, style) {\n      var diff = max - min;\n      var interval = noInts - 1;\n      if (value < max) {\n        interval = Math.floor((value - min) / diff * noInts);\n      }\n      return style[interval];\n    },\n\n    quantile: function quantile(cluster, value, min, max, noInts, thresholds, style) {\n      var interval = 0;\n      thresholds.map(function (threshold, ti) {\n        if (value > threshold) {\n          interval = parseInt(ti) + 1;\n        }\n      });\n      return style[interval];\n    },\n\n    continuous: function continuous(cluster, value, min, max, noInts, thresholds, style) {\n      var interval = 0;\n\n      thresholds.map(function (threshold, ti) {\n        if (value > threshold) {\n          interval = parseInt(ti) + 1;\n        }\n      });\n\n      var edgeValues = thresholds.slice(0);\n      edgeValues.push(max);\n      edgeValues.unshift(min);\n\n      var ratioDif = (value - edgeValues[interval]) / (edgeValues[interval + 1] - edgeValues[interval]);\n      var bottomValue = style[interval];\n      var upperValue = style[interval + 1];\n\n      if (cluster._isNumber(bottomValue)) {\n        return bottomValue + ratioDif * (upperValue - bottomValue);\n      } else {\n        return cluster._colorMix(upperValue, bottomValue, ratioDif);\n      }\n    }\n  },\n\n  _methodOperations: {\n    count: function count(cluster, cell, values) {\n      return cell.elms.length;\n    },\n    mean: function mean(cluster, cell, values) {\n      return cluster._math_mean(values);\n    },\n    median: function median(cluster, cell, values) {\n      return cluster._math_median(values);\n    },\n    mode: function mode(cluster, cell, values) {\n      return cluster._math_mode(values);\n    },\n    max: function max(cluster, cell, values) {\n      return cluster._math_max(values);\n    },\n    min: function min(cluster, cell, values) {\n      return cluster._math_min(values);\n    },\n    sum: function sum(cluster, cell, values) {\n      return cluster._math_sum(values);\n    }\n  },\n\n  _elmInsideOperations: {\n    square: function square(ex, ey, cell) {\n      var x1 = cell.x,\n          x2 = cell.x + cell.w,\n          y1 = cell.y,\n          y2 = cell.y + cell.h;\n      if (ex > x1) {\n        if (ey > y1) {\n          if (ex < x2) {\n            if (ey < y2) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    },\n    hexagon: function hexagon(ex, ey, cell) {\n      var x1 = cell.x,\n          x2 = cell.x + cell.w,\n          y1 = cell.y,\n          y2 = cell.y + cell.h;\n      if (ex > x1) {\n        if (ey > y1) {\n          if (ex < x2) {\n            if (ey < y2) {\n              var yh1 = y1 + cell.h * 1 / 4,\n                  yh2 = y1 + cell.h * 3 / 4;\n              if (ey > yh1 && ey < yh2) {\n                return true;\n              } else {\n                var tx = ex - x1,\n                    ty = ey - y1;\n                if (ty > cell.h / 4 * 3) {\n                  ty = cell.h - ty;\n                }\n                if (tx > cell.w / 2) {\n                  tx = cell.w - tx;\n                }\n                return ty / (cell.h / 4) + tx / (cell.w / 2) > 1;\n              }\n            }\n          }\n        }\n      }\n      return false;\n    }\n  },\n\n  _buildPathOperations: {\n    square: function square(c) {\n      return [[c.y, c.x], [c.y, c.x + c.w], [c.y + c.h, c.x + c.w], [c.y + c.h, c.x], [c.y, c.x]];\n    },\n    hexagon: function hexagon(c) {\n      return [[c.y + c.h / 4, c.x], [c.y, c.x + c.w / 2], [c.y + c.h / 4, c.x + c.w], [c.y + 3 * (c.h / 4), c.x + c.w], [c.y + c.h, c.x + c.w / 2], [c.y + 3 * (c.h / 4), c.x], [c.y + c.h / 4, c.x]];\n    }\n  }\n});\n"]}